/* ===== Reset & Base ===== */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

:root {
  /* Scaleflex brand palette */
  --sf-primary: #155bcd;
  --sf-primary-light: #2c99ff;
  --sf-primary-dark: #0d47a1;
  --sf-primary-glow: rgba(21, 91, 205, 0.35);
  --sf-accent: #00d4aa;
  --sf-accent-light: #33ffd2;
  --sf-dark: #0a0e27;
  --sf-dark-surface: #111738;
  --sf-dark-card: #161d42;
  --sf-dark-border: rgba(255, 255, 255, 0.08);

  /* Light sections */
  --sf-light-bg: #f5f7fb;
  --sf-light-card: #ffffff;
  --sf-light-border: #e2e8f0;
  --sf-text-primary: #0f172a;
  --sf-text-secondary: #64748b;
  --sf-text-muted: #94a3b8;

  /* Shared */
  --sf-radius: 16px;
  --sf-radius-sm: 10px;
  --sf-radius-xs: 6px;
  --sf-transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  --sf-shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.06);
  --sf-shadow-md: 0 4px 20px rgba(0, 0, 0, 0.06), 0 1px 3px rgba(0, 0, 0, 0.04);
  --sf-shadow-lg: 0 12px 40px rgba(0, 0, 0, 0.1), 0 4px 12px rgba(0, 0, 0, 0.05);
  --sf-shadow-glow: 0 0 60px rgba(21, 91, 205, 0.15);

  /* Compat aliases used by lower sections */
  --color-primary: var(--sf-primary);
  --color-primary-dark: var(--sf-primary-dark);
  --color-primary-light: rgba(21, 91, 205, 0.1);
  --color-bg: var(--sf-light-card);
  --color-bg-alt: var(--sf-light-bg);
  --color-text: var(--sf-text-primary);
  --color-text-muted: var(--sf-text-secondary);
  --color-border: var(--sf-light-border);
  --color-code-bg: #1e1e2e;
  --color-code-text: #cdd6f4;
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
  --radius: var(--sf-radius);
  --radius-sm: var(--sf-radius-sm);
  --shadow: var(--sf-shadow-sm);
  --shadow-lg: var(--sf-shadow-lg);
  --nav-height: 64px;
}

html {
  scroll-behavior: smooth;
  scroll-padding-top: var(--nav-height);
}

body {
  font-family: var(--font-sans);
  color: var(--color-text);
  background: var(--color-bg);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
}

/* ===== Navigation (dark, frosted glass) ===== */
.demo-nav {
  position: sticky;
  top: 0;
  z-index: 100;
  background: rgba(10, 14, 39, 0.92);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  transition: box-shadow 0.3s;
}

.demo-nav.scrolled {
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
}

.demo-nav-inner {
  max-width: 1280px;
  margin: 0 auto;
  padding: 0 32px;
  height: var(--nav-height);
  display: flex;
  align-items: center;
}

.demo-logo {
  font-weight: 700;
  font-size: 17px;
  color: #fff;
  text-decoration: none;
  display: flex;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
}

.demo-logo-img {
  height: 40px;
  width: auto;
}

.demo-nav-links {
  display: flex;
  align-items: center;
  gap: 2px;
  overflow-x: auto;
  -ms-overflow-style: none;
  scrollbar-width: none;
  flex: 1;
  margin-left: 40px;
  mask-image: linear-gradient(to right, transparent 0%, black 8px, black calc(100% - 24px), transparent 100%);
  -webkit-mask-image: linear-gradient(to right, transparent 0%, black 8px, black calc(100% - 24px), transparent 100%);
  padding: 0 4px;
}

.demo-nav-links::-webkit-scrollbar {
  display: none;
}

.demo-nav-links a {
  color: rgba(255, 255, 255, 0.55);
  text-decoration: none;
  font-size: 13.5px;
  font-weight: 500;
  white-space: nowrap;
  padding: 7px 14px;
  border-radius: 8px;
  transition: color var(--sf-transition), background var(--sf-transition);
  letter-spacing: 0.01em;
}

.demo-nav-links a:hover {
  color: #fff;
  background: rgba(255, 255, 255, 0.08);
}

.demo-nav-links a.active {
  color: #fff;
  background: rgba(44, 153, 255, 0.15);
}

.demo-nav-github {
  color: rgba(255, 255, 255, 0.55);
  flex-shrink: 0;
  display: flex;
  align-items: center;
  padding: 8px;
  border-radius: 8px;
  transition: color var(--sf-transition), background var(--sf-transition);
  text-decoration: none;
}

.demo-nav-github:hover {
  color: #fff;
  background: rgba(255, 255, 255, 0.08);
}

.demo-nav-burger {
  display: none;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  color: rgba(255, 255, 255, 0.6);
  cursor: pointer;
  padding: 8px;
  border-radius: 8px;
  flex-shrink: 0;
  transition: color var(--sf-transition), background var(--sf-transition);
}

.demo-nav-burger:hover {
  color: #fff;
  background: rgba(255, 255, 255, 0.08);
}

/* ===== Hero (dark, centered) ===== */
.demo-hero {
  text-align: center;
  padding: 80px 32px 56px;
  background: var(--sf-dark);
  position: relative;
  overflow: hidden;
}

/* Mesh gradient background */
.demo-hero::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(ellipse 80% 50% at 50% 0%, rgba(21, 91, 205, 0.25) 0%, transparent 60%),
    radial-gradient(ellipse 60% 40% at 20% 80%, rgba(0, 212, 170, 0.08) 0%, transparent 50%),
    radial-gradient(ellipse 50% 50% at 80% 60%, rgba(44, 153, 255, 0.1) 0%, transparent 50%);
  pointer-events: none;
}

/* Subtle grid pattern */
.demo-hero::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(rgba(255, 255, 255, 0.02) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
  background-size: 60px 60px;
  mask-image: radial-gradient(ellipse 70% 60% at 50% 40%, black, transparent);
  -webkit-mask-image: radial-gradient(ellipse 70% 60% at 50% 40%, black, transparent);
  pointer-events: none;
}

.demo-hero-inner {
  position: relative;
  z-index: 1;
  max-width: 1200px;
  margin: 0 auto;
}

.demo-hero-badge {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  font-weight: 600;
  letter-spacing: 0.04em;
  color: var(--sf-accent);
  padding: 8px 20px;
  border-radius: 100px;
  border: 1px solid rgba(0, 212, 170, 0.25);
  background: rgba(0, 212, 170, 0.06);
  margin-bottom: 32px;
}

.demo-hero-badge::before {
  content: '';
  display: block;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--sf-accent);
  box-shadow: 0 0 8px var(--sf-accent);
  animation: demo-pulse-dot 2s ease-in-out infinite;
}

.demo-hero h1 {
  font-size: clamp(36px, 6vw, 64px);
  font-weight: 800;
  margin-bottom: 20px;
  letter-spacing: -0.04em;
  line-height: 1.05;
  color: #fff;
}

.demo-gradient-text {
  background: linear-gradient(135deg, var(--sf-primary-light) 0%, var(--sf-accent) 50%, var(--sf-primary-light) 100%);
  background-size: 200% auto;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: demo-gradient-shift 4s ease-in-out infinite;
}

.demo-subtitle {
  font-size: clamp(16px, 2vw, 19px);
  color: rgba(255, 255, 255, 0.55);
  max-width: 820px;
  margin: 0 auto 36px;
  line-height: 1.7;
}

.demo-hero-actions {
  display: flex;
  gap: 12px;
  justify-content: center;
  margin-bottom: 36px;
}

.demo-hero-viewer {
  max-width: 940px;
  margin: 0 auto;
  aspect-ratio: 16/9;
  border-radius: var(--sf-radius);
  overflow: hidden;
  box-shadow: var(--sf-shadow-glow), var(--sf-shadow-lg);
}

.demo-hero-viewer > div {
  width: 100%;
  height: 100%;
}

.demo-hero-meta {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 6px 0;
  margin-top: 40px;
  font-size: 13px;
  font-weight: 500;
  color: rgba(255, 255, 255, 0.6);
}

.demo-hero-meta span + span::before {
  content: '\00b7';
  margin: 0 8px;
  color: rgba(255, 255, 255, 0.35);
}

/* Hero entrance animations */
@keyframes demo-hero-enter {
  from { opacity: 0; transform: translateY(24px); }
  to   { opacity: 1; transform: translateY(0); }
}

.demo-hero-badge,
.demo-hero h1,
.demo-subtitle,
.demo-hero-actions,
.demo-hero-viewer,
.demo-hero-meta {
  animation: demo-hero-enter 0.7s cubic-bezier(0.4, 0, 0.2, 1) backwards;
}

.demo-hero-badge        { animation-delay: 0s; }
.demo-hero h1           { animation-delay: 0.1s; }
.demo-subtitle          { animation-delay: 0.2s; }
.demo-hero-actions      { animation-delay: 0.3s; }
.demo-hero-viewer       { animation-delay: 0.4s; }
.demo-hero-meta         { animation-delay: 0.5s; }

@keyframes demo-gradient-shift {
  0%, 100% { background-position: 0% center; }
  50% { background-position: 100% center; }
}

@keyframes demo-pulse-dot {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.5; transform: scale(0.8); }
}

/* ===== Hero Buttons ===== */
.demo-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 12px 28px;
  font-size: 14px;
  font-weight: 600;
  border: none;
  border-radius: var(--sf-radius-sm);
  cursor: pointer;
  text-decoration: none;
  transition: all var(--sf-transition);
  font-family: inherit;
  position: relative;
  letter-spacing: 0.01em;
}

.demo-btn--glow {
  padding: 14px 36px;
  font-size: 15px;
  background: linear-gradient(135deg, var(--sf-primary) 0%, var(--sf-primary-light) 100%);
  color: #fff;
  border-radius: 12px;
  box-shadow:
    0 0 20px rgba(21, 91, 205, 0.4),
    0 0 60px rgba(44, 153, 255, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.15);
  overflow: hidden;
}

.demo-btn--glow::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, transparent 50%);
  pointer-events: none;
}

.demo-btn--glow:hover {
  transform: translateY(-2px);
  box-shadow:
    0 0 30px rgba(21, 91, 205, 0.5),
    0 0 80px rgba(44, 153, 255, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.demo-btn--glass {
  padding: 14px 32px;
  font-size: 15px;
  background: rgba(255, 255, 255, 0.04);
  color: rgba(255, 255, 255, 0.9);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  backdrop-filter: blur(12px);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06);
}

.demo-btn--glass:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.2);
  color: #fff;
  transform: translateY(-2px);
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

/* ===== Section Header (hotspot style) ===== */
.demo-section-header {
  text-align: center;
  margin-bottom: 48px;
}

.demo-section-label {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--sf-primary);
  margin-bottom: 16px;
}

.demo-section-label::before {
  content: '';
  display: block;
  width: 20px;
  height: 2px;
  background: var(--sf-primary);
  border-radius: 2px;
}

.demo-section-header h2 {
  font-size: clamp(24px, 4vw, 36px);
  font-weight: 800;
  letter-spacing: -0.03em;
  line-height: 1.15;
  margin-bottom: 12px;
  color: var(--sf-text-primary);
}

.demo-section-header p {
  font-size: 17px;
  color: var(--sf-text-secondary);
  max-width: 560px;
  margin: 0 auto;
  line-height: 1.7;
}

/* Try-it-live sandbox links */
.demo-hero-sandboxes {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  margin-top: 24px;
}

.demo-hero-sandboxes-label {
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--sf-text-muted);
}

.demo-btn--chip {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 18px;
  font-size: 13px;
  font-weight: 600;
  border-radius: 100px;
  background: rgba(21, 91, 205, 0.06);
  color: var(--sf-primary);
  border: 1px solid rgba(21, 91, 205, 0.15);
  text-decoration: none;
  transition: all var(--sf-transition);
}

.demo-btn--chip:hover {
  background: rgba(21, 91, 205, 0.12);
  border-color: rgba(21, 91, 205, 0.3);
  transform: translateY(-1px);
}

/* ===== Two-column layout ===== */
.demo-columns {
  display: grid;
  grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
  gap: 24px;
}

/* ===== Card (hotspot style) ===== */
.demo-card {
  background: var(--sf-light-card);
  border: 1px solid var(--sf-light-border);
  border-radius: var(--sf-radius);
  padding: 28px;
  box-shadow: var(--sf-shadow-sm);
  transition: box-shadow var(--sf-transition), transform var(--sf-transition);
}

.demo-card:hover {
  box-shadow: var(--sf-shadow-md);
  transform: translateY(-2px);
}

.demo-card--column {
  display: flex;
  flex-direction: column;
}

/* Feature header inside cards */
.demo-feature-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 20px;
}

.demo-feature-icon {
  width: 44px;
  height: 44px;
  border-radius: 12px;
  background: linear-gradient(135deg, rgba(21, 91, 205, 0.1) 0%, rgba(0, 212, 170, 0.08) 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  color: var(--sf-primary);
}

.demo-feature-title {
  font-size: 18px;
  font-weight: 700;
  color: var(--sf-text-primary);
}

/* ===== Code blocks (Prism-compatible) ===== */
.demo-code-wrap {
  position: relative;
  margin-bottom: 12px;
}

.demo-code-wrap:last-child {
  margin-bottom: 0;
}

.demo-code-wrap--fill {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.demo-code-wrap--fill pre {
  flex: 1;
  margin-bottom: 0;
}

.demo-code-wrap pre,
.demo-code-wrap pre[class*="language-"] {
  background: var(--sf-dark) !important;
  color: #cbd5e1;
  padding: 20px 24px;
  border-radius: var(--sf-radius-sm);
  overflow-x: auto;
  font-size: 13px;
  line-height: 1.7;
  margin: 0;
  border: 1px solid rgba(255, 255, 255, 0.06);
}

.demo-code-wrap code,
.demo-code-wrap code[class*="language-"] {
  font-family: var(--font-mono);
  font-size: inherit;
  text-shadow: none !important;
}

/* Prism token overrides */
.token.comment, .token.prolog, .token.doctype, .token.cdata { color: #64748b; }
.token.punctuation { color: #94a3b8; }
.token.property, .token.tag, .token.boolean, .token.number, .token.constant, .token.symbol { color: var(--sf-accent); }
.token.selector, .token.attr-name, .token.string, .token.char, .token.builtin { color: #7dd3fc; }
.token.operator, .token.entity, .token.url { color: #cbd5e1; }
.token.atrule, .token.attr-value, .token.keyword { color: #c4b5fd; }
.token.function, .token.class-name { color: #93c5fd; }
.token.regex, .token.important, .token.variable { color: #fbbf24; }
.token.script { color: #cbd5e1; }

/* Copy button */
.demo-copy-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 8px;
  cursor: pointer;
  color: rgba(255, 255, 255, 0.4);
  transition: all var(--sf-transition);
  padding: 0;
}

.demo-copy-btn:hover {
  background: rgba(255, 255, 255, 0.12);
  color: rgba(255, 255, 255, 0.8);
}

.demo-copy-btn .demo-check-icon {
  display: none;
}

.demo-copy-btn.copied .demo-copy-icon {
  display: none;
}

.demo-copy-btn.copied .demo-check-icon {
  display: block;
}

.demo-copy-btn.copied {
  color: var(--sf-accent);
  border-color: rgba(0, 212, 170, 0.3);
  background: rgba(0, 212, 170, 0.1);
}

/* ===== Section Buttons (light sections) ===== */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 12px 28px;
  font-size: 15px;
  font-weight: 600;
  font-family: var(--font-sans);
  border-radius: var(--radius-sm);
  border: none;
  cursor: pointer;
  text-decoration: none;
  transition: background 0.2s, transform 0.1s, box-shadow 0.2s;
}

.btn:active {
  transform: scale(0.97);
}

.btn--primary {
  background: var(--color-primary);
  color: #fff;
}

.btn--primary:hover {
  background: var(--color-primary-dark);
}

.btn--secondary {
  background: var(--color-bg-alt);
  color: var(--color-text);
  border: 1px solid var(--color-border);
}

.btn--secondary:hover {
  background: var(--color-border);
}

.btn--sm {
  padding: 8px 16px;
  font-size: 13px;
}

/* ===== Sections ===== */
.section {
  padding: 100px 32px;
}

.section--alt {
  background: var(--color-bg-alt);
}

.section__inner {
  max-width: 1200px;
  margin: 0 auto;
  overflow: hidden;
}

.section__title {
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: 8px;
  letter-spacing: -0.01em;
}

.section__subtitle {
  font-size: 17px;
  color: var(--color-text-muted);
  margin-bottom: 40px;
  max-width: 600px;
}

.section__note {
  margin-top: 20px;
  font-size: 14px;
  color: var(--color-text-muted);
}

.section__note code {
  background: var(--color-bg-alt);
  padding: 2px 6px;
  border-radius: 4px;
  font-family: var(--font-mono);
  font-size: 13px;
}

/* ===== Cards ===== */
.cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
  gap: 24px;
}

.card {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: 24px;
  box-shadow: var(--shadow);
}

.card__title {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 16px;
}

/* ===== Code Blocks ===== */
.code-block {
  position: relative;
  background: var(--color-code-bg);
  border-radius: var(--radius-sm);
  overflow: hidden;
  margin-bottom: 16px;
}

.code-block:last-child {
  margin-bottom: 0;
}

.code-block pre {
  padding: 16px;
  overflow-x: auto;
  margin: 0;
}

.code-block code {
  font-family: var(--font-mono);
  font-size: 13px;
  line-height: 1.6;
  color: var(--color-code-text);
}

.code-block--large pre {
  padding: 24px;
}

.code-block__copy {
  position: absolute;
  top: 8px;
  right: 8px;
  padding: 4px 12px;
  font-size: 12px;
  font-family: var(--font-sans);
  font-weight: 500;
  background: rgba(255, 255, 255, 0.1);
  color: rgba(255, 255, 255, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 6px;
  cursor: pointer;
  transition: background 0.2s, color 0.2s;
}

.code-block__copy:hover {
  background: rgba(255, 255, 255, 0.2);
  color: #fff;
}

/* ===== Grid ===== */
.grid {
  display: grid;
  gap: 24px;
}

.grid > * {
  min-width: 0;
}

.grid--2 {
  grid-template-columns: repeat(2, 1fr);
}

.grid--3 {
  grid-template-columns: repeat(3, 1fr);
}

/* ===== Viewer Cards ===== */
.viewer-card {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: 24px;
  box-shadow: var(--shadow);
}

.viewer-card__title {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 16px;
}

.viewer-card__viewer {
  width: 100%;
  aspect-ratio: 4/3;
  border-radius: var(--radius-sm);
  overflow: hidden;
  margin-bottom: 16px;
}

.viewer-card__desc {
  font-size: 14px;
  color: var(--color-text-muted);
}

/* ===== Demo Panels ===== */
.demo-panel {
  display: grid;
  grid-template-columns: 1fr 300px;
  gap: 24px;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: 24px;
  box-shadow: var(--shadow);
}

.demo-panel__viewer {
  width: 100%;
  aspect-ratio: 16/9;
  border-radius: var(--radius-sm);
  overflow: hidden;
}

.demo-panel__controls {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* ===== Controls ===== */
.control {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.control__label {
  font-size: 13px;
  font-weight: 600;
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.control__value {
  font-size: 13px;
  color: var(--color-text-muted);
  font-family: var(--font-mono);
}

.control select,
.control input[type="color"],
.control input[type="text"] {
  padding: 8px 12px;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  font-family: var(--font-sans);
  font-size: 14px;
  background: var(--color-bg);
  color: var(--color-text);
}

.control input[type="range"] {
  width: 100%;
  accent-color: var(--color-primary);
}

.control input[type="checkbox"] {
  width: 18px;
  height: 18px;
  accent-color: var(--color-primary);
  cursor: pointer;
  flex-shrink: 0;
}

/* Checkbox controls: label and checkbox on the same row */
.control--checkbox {
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
}

/* Color picker: label and swatch on the same row */
.control--color {
  flex-direction: row;
  align-items: center;
  gap: 12px;
}

.control--color input[type="color"] {
  width: 40px;
  height: 32px;
  padding: 2px;
  border: 1px solid var(--color-border);
  border-radius: 6px;
  cursor: pointer;
  flex-shrink: 0;
}

.control-group {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

/* ===== Configurator ===== */
.configurator {
  display: grid;
  grid-template-columns: 1fr 320px;
  grid-template-rows: 1fr auto;
  gap: 24px;
}

.configurator__preview {
  grid-row: 1;
  grid-column: 1;
}

.configurator__viewer {
  width: 100%;
  aspect-ratio: 16/9;
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow);
}

.configurator__controls {
  grid-row: 1;
  grid-column: 2;
  display: flex;
  flex-direction: column;
  gap: 16px;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: 20px;
  box-shadow: var(--shadow);
  max-height: 500px;
  overflow-y: auto;
}

.configurator__controls--muted {
  opacity: 0.45;
  pointer-events: none;
}

.configurator__code {
  grid-row: 2;
  grid-column: 1 / -1;
}

.configurator__code h3 {
  font-size: 16px;
  font-weight: 600;
  margin-bottom: 12px;
}

/* ===== Viewer Placeholder (click-to-load) ===== */
.viewer-placeholder {
  position: absolute;
  inset: 0;
  z-index: 10;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  background: var(--color-bg-alt);
  background-size: cover;
  background-position: center;
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: filter 0.2s;
}

.viewer-placeholder:hover {
  filter: brightness(0.97);
}

.viewer-placeholder__scrim {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-sm);
}

.viewer-placeholder__content {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 6px;
  width: 120px;
  height: 120px;
  background: rgba(255, 255, 255, 0.55);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border-radius: 50%;
  transition: transform 0.25s ease;
}

.viewer-placeholder:hover .viewer-placeholder__content {
  transform: scale(1.1);
}

.viewer-placeholder__icon {
  width: 52px;
  height: 52px;
  color: var(--color-primary);
  transition: transform 0.35s ease;
  filter: drop-shadow(0 2px 8px rgba(0, 88, 163, 0.18));
}

.viewer-placeholder:hover .viewer-placeholder__icon {
  transform: none;
}

.viewer-placeholder__text {
  font-size: 13px;
  font-weight: 600;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  color: var(--color-text-muted);
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
}

/* Dev-only preview generator button */
/* Uncomment when preview generator is re-enabled
.preview-gen-btn {
  position: fixed;
  bottom: 16px;
  right: 16px;
  z-index: 9999;
  padding: 10px 18px;
  font-size: 13px;
  font-weight: 600;
  font-family: var(--font-sans);
  background: var(--color-primary);
  color: #fff;
  border: none;
  border-radius: var(--radius-sm);
  cursor: pointer;
  box-shadow: var(--shadow-lg);
  transition: opacity 0.2s;
}

.preview-gen-btn:hover {
  opacity: 0.9;
}

.preview-gen-btn:disabled {
  opacity: 0.5;
  cursor: wait;
}
*/

/* Containers that hold a placeholder need relative positioning */
.viewer-card__viewer,
.demo-panel__viewer,
.configurator__viewer {
  position: relative;
}

/*
 * CI3DView adds .ci-3d-container which sets height:100%.
 * That conflicts with the aspect-ratio sizing on these demo containers,
 * causing the canvas to overflow. Override to let aspect-ratio control height.
 */
.viewer-card__viewer.ci-3d-container,
.demo-panel__viewer.ci-3d-container,
.configurator__viewer.ci-3d-container,
.demo-hero-viewer.ci-3d-container {
  height: auto;
}

/* ===== "Also by Scaleflex" Carousel ===== */
.demo-also {
  background: var(--sf-dark);
  padding: 80px 32px;
  position: relative;
  overflow: hidden;
}

.demo-also::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(ellipse 50% 60% at 80% 50%, rgba(44, 153, 255, 0.08) 0%, transparent 60%),
    radial-gradient(ellipse 40% 50% at 20% 50%, rgba(0, 212, 170, 0.06) 0%, transparent 50%);
  pointer-events: none;
}

.demo-also-slides {
  position: relative;
  overflow: hidden;
}

.demo-also-slide {
  display: none;
}

.demo-also-slide--active {
  display: block;
}

.demo-also-slide--enter-right {
  display: block;
  animation: demo-also-slideInRight 500ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.demo-also-slide--enter-left {
  display: block;
  animation: demo-also-slideInLeft 500ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.demo-also-slide--leave-left {
  display: block;
  position: absolute;
  top: 0; left: 0; right: 0;
  animation: demo-also-slideOutLeft 500ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.demo-also-slide--leave-right {
  display: block;
  position: absolute;
  top: 0; left: 0; right: 0;
  animation: demo-also-slideOutRight 500ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.demo-also-inner {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  gap: 60px;
  position: relative;
  z-index: 1;
}

.demo-also-content {
  flex: 1;
  min-width: 0;
}

.demo-also-content .demo-section-label {
  color: var(--sf-accent);
  margin-bottom: 20px;
}

.demo-also-content .demo-section-label::before {
  background: var(--sf-accent);
}

.demo-also-title {
  font-size: clamp(24px, 3vw, 32px);
  font-weight: 800;
  letter-spacing: -0.02em;
  color: #fff;
  margin-bottom: 12px;
  line-height: 1.2;
}

.demo-also-desc {
  color: rgba(255, 255, 255, 0.5);
  font-size: 16px;
  line-height: 1.7;
  max-width: 480px;
  margin-bottom: 28px;
}

.demo-also-actions {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.demo-also-visual {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
}

.demo-also-icon {
  width: 160px;
  height: 160px;
}

.demo-also-icon--spin {
  animation: demo-spin-slow 20s linear infinite;
}

.demo-also-dots {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-top: 40px;
  position: relative;
  z-index: 1;
}

.demo-also-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.2);
  border: none;
  padding: 0;
  cursor: pointer;
  transition: background 300ms ease, transform 300ms ease;
}

.demo-also-dot:hover {
  background: rgba(255, 255, 255, 0.4);
}

.demo-also-dot--active {
  background: var(--sf-primary-light);
  transform: scale(1.25);
}

/* "Also" section buttons */
.demo-btn--primary {
  background: linear-gradient(135deg, var(--sf-primary) 0%, var(--sf-primary-light) 100%);
  color: #fff;
  box-shadow: 0 0 20px rgba(21, 91, 205, 0.3);
}

.demo-btn--primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 0 30px rgba(21, 91, 205, 0.4);
}

.demo-btn--outline {
  background: transparent;
  color: rgba(255, 255, 255, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.15);
}

.demo-btn--outline:hover {
  background: rgba(255, 255, 255, 0.06);
  color: #fff;
  border-color: rgba(255, 255, 255, 0.3);
  transform: translateY(-2px);
}

.demo-btn--small {
  padding: 10px 22px;
  font-size: 13px;
  border-radius: var(--sf-radius-sm);
}

@keyframes demo-also-slideInRight {
  from { transform: translateX(100%); opacity: 0; }
  to   { transform: translateX(0);    opacity: 1; }
}

@keyframes demo-also-slideOutLeft {
  from { transform: translateX(0);    opacity: 1; }
  to   { transform: translateX(-100%); opacity: 0; }
}

@keyframes demo-also-slideInLeft {
  from { transform: translateX(-100%); opacity: 0; }
  to   { transform: translateX(0);     opacity: 1; }
}

@keyframes demo-also-slideOutRight {
  from { transform: translateX(0);    opacity: 1; }
  to   { transform: translateX(100%); opacity: 0; }
}

@keyframes demo-spin-slow {
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}

/* ===== Footer ===== */
.demo-footer {
  background: var(--sf-dark);
  color: rgba(255, 255, 255, 0.7);
  padding: 0 32px;
  position: relative;
  overflow: hidden;
}

.demo-footer::before {
  content: '';
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 600px;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--sf-primary-light), transparent);
}

.demo-footer-main {
  max-width: 1200px;
  margin: 0 auto;
  padding: 64px 0 40px;
  display: grid;
  grid-template-columns: 1.5fr 1fr 1fr 1fr;
  gap: 48px;
  position: relative;
}

.demo-footer-brand {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.demo-footer-logo {
  display: block;
  width: 140px;
  opacity: 0.8;
  transition: opacity var(--sf-transition);
}

.demo-footer-logo:hover {
  opacity: 1;
}

.demo-footer-brand p {
  color: rgba(255, 255, 255, 0.35);
  font-size: 14px;
  line-height: 1.7;
  max-width: 280px;
}

.demo-footer-col {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.demo-footer-col h4 {
  font-size: 12px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: rgba(255, 255, 255, 0.5);
  margin-bottom: 4px;
}

.demo-footer-col a {
  color: rgba(255, 255, 255, 0.4);
  text-decoration: none;
  font-size: 14px;
  transition: color var(--sf-transition);
}

.demo-footer-col a:hover {
  color: var(--sf-primary-light);
}

.demo-footer-bottom {
  max-width: 1200px;
  margin: 0 auto;
  padding: 24px 0;
  border-top: 1px solid rgba(255, 255, 255, 0.06);
  text-align: center;
}

.demo-footer-bottom p {
  color: rgba(255, 255, 255, 0.25);
  font-size: 13px;
}

.demo-footer-bottom a {
  color: var(--sf-primary-light);
  text-decoration: none;
  transition: color var(--sf-transition);
}

.demo-footer-bottom a:hover {
  color: #fff;
}

/* ===== Buy Me a Coffee ===== */
.demo-footer-coffee {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  color: #fbbf24 !important;
  opacity: 0.85;
  transition: opacity var(--sf-transition), color var(--sf-transition);
}

.demo-footer-coffee:hover {
  color: #fbbf24 !important;
  opacity: 1;
}

.demo-coffee-icon {
  position: relative;
  display: inline-flex;
  width: 16px;
  height: 16px;
  flex-shrink: 0;
}

.demo-steam {
  position: absolute;
  width: 2px;
  height: 6px;
  background: #fbbf24;
  border-radius: 1px;
  opacity: 0;
  animation: demo-steam 2.2s ease-in-out infinite;
}

.demo-steam--1 {
  left: 3px;
  top: -4px;
  animation-delay: 0s;
}

.demo-steam--2 {
  left: 7px;
  top: -4px;
  animation-delay: 0.4s;
}

.demo-steam--3 {
  left: 11px;
  top: -4px;
  animation-delay: 0.8s;
}

@keyframes demo-steam {
  0% {
    opacity: 0;
    transform: translateY(0) scaleY(0.5);
  }
  30% {
    opacity: 0.6;
    transform: translateY(-4px) scaleY(1);
  }
  60% {
    opacity: 0.3;
    transform: translateY(-8px) scaleX(1.5) scaleY(0.8);
  }
  100% {
    opacity: 0;
    transform: translateY(-12px) scaleX(2) scaleY(0.3);
  }
}

/* ===== Responsive ===== */
@media (max-width: 1024px) {
  .grid--3 {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 868px) {
  /* Nav mobile */
  .demo-nav-burger {
    display: flex;
  }

  .demo-nav-links {
    display: none;
    position: absolute;
    top: var(--nav-height);
    left: 0;
    right: 0;
    flex-direction: column;
    background: rgba(10, 14, 39, 0.97);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.06);
    padding: 12px;
    gap: 0;
    mask-image: none;
    -webkit-mask-image: none;
    margin-left: 0;
    overflow-x: visible;
  }

  .demo-nav-links.open {
    display: flex;
  }

  .demo-nav-links a {
    padding: 12px 16px;
  }

  .demo-nav-github {
    margin-left: auto;
  }

  /* Hero mobile */
  .demo-hero {
    padding: 48px 20px 40px;
  }

  .demo-hero-actions {
    flex-direction: column;
    align-items: center;
  }

  .demo-hero-viewer {
    max-width: 100%;
  }

  /* Sections */
  .demo-columns {
    grid-template-columns: 1fr;
  }

  .grid--2,
  .grid--3 {
    grid-template-columns: 1fr;
  }

  .demo-panel {
    grid-template-columns: 1fr;
  }

  .configurator {
    grid-template-columns: 1fr;
    grid-template-rows: auto auto auto;
  }

  .configurator__preview {
    grid-column: 1;
    grid-row: 1;
  }

  .configurator__controls {
    grid-column: 1;
    grid-row: 2;
    max-height: none;
  }

  .configurator__code {
    grid-column: 1;
    grid-row: 3;
  }

  .demo-also-inner {
    flex-direction: column;
    text-align: center;
    gap: 40px;
  }

  .demo-also-desc {
    margin-left: auto;
    margin-right: auto;
  }

  .demo-also-actions {
    justify-content: center;
  }

  .demo-footer-main {
    grid-template-columns: 1fr 1fr;
    gap: 32px;
  }

  .demo-footer-brand {
    grid-column: 1 / -1;
  }
}

@media (max-width: 480px) {
  .cards {
    grid-template-columns: 1fr;
  }
}
